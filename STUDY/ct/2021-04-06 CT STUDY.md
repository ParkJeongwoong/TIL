# 2021-03-25 CT STUDY



## ë‚˜ë¬´ íƒˆì¶œ

https://www.acmicpc.net/problem/15900

> ë¶„í•  ì •ë³µ

### ì½”ë“œ

```python
# ê° ë¦¬í”„ì˜ ë ˆë²¨
# default(0)ì€ No
# í™€ìˆ˜ ë ˆë²¨ì˜ ë¦¬í”„ê°€ ë‚˜ì˜¤ë©´ ê²°ê³¼ê°€ ë’¤ì§‘í˜

N = int(input())
trees = [[] for _ in range(N+1)]

for i in range(N-1):
    a,b = map(int,input().split())
    trees[a].append(b)
    trees[b].append(a)
    
result = ['No','Yes']
flag = 0

stack = []
for i in trees[1]:
    stack.append((i,1))
    trees[i].remove(1)

while stack:
    node, level = stack.pop()

    if not trees[node]:
        flag = (flag+level) & 1
        continue
    for i in trees[node]:
        stack.append((i,level+1))
        trees[i].remove(node)

print(result[flag])
```

`1304 ms` `220584 KB` `PyPy3`



- ê° ë¦¬í”„ì˜ ë ˆë²¨ì´ í™€ìˆ˜ê°€ ë˜ë©´ ê²°ê³¼ê°€ ë’¤ì§‘í˜
  - ì£¼ì˜í•´ì•¼ í•  ì ì€ aì™€ b ì‚¬ì´ì— ë¶€ëª¨-ìì‹ ê´€ê³„ì˜ ë°©í–¥ì„ ì•Œ ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒ
    - ê·¸ë˜ì„œ ì¼ë‹¨ ë‘˜ ë‹¤ ì—°ê²°í•˜ê³ , ë¶€ëª¨ì—ì„œ ë‚´ë ¤ê°€ë©´ì„œ ëŒì•„ê°€ëŠ” ì—°ê²°ì„ ëŠìŒ(stackì— ìŒ“ìœ¼ë©´ì„œ remove)



- ë…íŠ¹í•œ ì ì€, ë§¤ë³¸ flagë¥¼ ë°”ê¿”ì£¼ëŠ” ìœ„ì˜ ì—°ì‚°ì´ ê°€ì¥ ë¹¨ëë‹¤ëŠ” ê²ƒ
  - levelì—ë‹¤ê°€ 1ì”© ë”í•˜ëŠ” ê²ƒ ëŒ€ì‹  `not`ì„ ì´ìš©í•´ì„œ True, Falseë¥¼ ë²ˆê°ˆì•„ê°€ê²Œ ë§Œë“¤ê±°ë‚˜
  - ë§¤ ìŠ¤í…ë§ˆë‹¤ flagë¥¼ ê°±ì‹ í•˜ì§€ ì•Šê³  levelì„ ë”í–ˆë‹¤ê°€ ë§ˆì§€ë§‰ì— í™€ì§ íŒë³„ì„ í•˜ëŠ” ë°©ë²•
  - visited ì‚¬ìš© ë“±
  - ë‹¤ë¥¸ ë°©ë²•ì€ ëª¨ë‘ ì—°ì‚°ì´ ëŠë ¸ë‹¤



- ë‹¤ë§Œ ë‚˜ë„ PyPy3ë¡œë§Œ í†µê³¼í–ˆê³  Python 3ë¡œëŠ” ì‹œê°„ì´ˆê³¼ê°€ ë‚˜ì™”ë‹¤



### ë°±ì¤€ ì½”ë“œ

#### icelynn1221ë‹˜ ì½”ë“œ

```python
import sys
sys.setrecursionlimit(10**6)
input=sys.stdin.readline

n=int(input())
graph=[[] for _ in range(n+1)]

for _ in range (n-1):
    a,b=map(int,input().split())
    graph[a].append(b)
    graph[b].append(a)

count=0
def dfs(v, depth):
    global count
    visited[v]=True
    if len(graph[v])==1 and v!=1:
        count+=depth
    else:
        for i in graph[v]:
            if not visited[i]:
                dfs(i, depth+1)
                
visited=[False]*(n+1)

dfs(1,0)
if count%2==0:
    print('No')
else:
    print('Yes')

```

[icelynn1221](https://www.acmicpc.net/user/icelynn1221) `1704 ms` `155116 KB` `Python 3`



- DFS ì¬ê·€ ì‚¬ìš© / visited ì‚¬ìš©
- ë˜‘ê°™ì´ a, b ì–‘ìª½ ë‹¤ ì—°ê²°
- flag ëŒ€ì‹  count ì‚¬ìš©
- ? íŠ¹ë³„í•œ ê±° ì—†ëŠ”ë°??



#### danbi2990ë‹˜ ì½”ë“œ

```python
import sys
read = sys.stdin.readline
sys.setrecursionlimit(10**9)

n = int(read())
tree = [[] for _ in range(n+1)]
for _ in range(n-1):
    a, b = map(int, read().split())
    tree[a].append(b)
    tree[b].append(a)

total_cnt = 0
visited = [False] * (n+1)
def backtracking(node, cnt):
    global total_cnt
    visited[node] = True
    is_leaf = True
    for child in tree[node]:
        if not visited[child]:
            backtracking(child, cnt+1)
            is_leaf = False
    if is_leaf:
        total_cnt += cnt

backtracking(1, 0)
print('Yes' if total_cnt % 2 == 1 else 'No')
```

[danbi2990](https://www.acmicpc.net/user/danbi2990) `1688 ms` `155332 KB` `Python 3`



- ìœ„ì™€ ê°™ìŒ
- ì™œ ì–˜ë“¤ì´ íŠ¹ë³„íˆ ë¹ ë¥¸ ê±°ì§€??
- ì¬ê·€ë¼ëŠ” ì°¨ì´ì  ë¿ì¸ë°, ì¬ê·€ì˜ ì„±ëŠ¥ì´ ë” ì¢‹ì€ê°€ë³´ë‹¤
  - append, removeì˜ ë°˜ë³µìœ¼ë¡œ idexingì„ í•˜ëŠë¼??
    - ê·¼ë° removeë¥¼ ì—†ì• ê³  indexingì„ ì¤„ì¸ ê±´ ë” ëŠë ¤ì¡ŒìŒ
      - append ë•Œë¬¸ì¸ê°€..??



### ì¶”ë¡ 

ìœ„ì˜ ê²°ë¡ ì„ ì ìš©í•˜ì—¬, append, removeë¥¼ ì—†ì• ì„œ indexingì„ ì¤„ì´ê³ ,

flagë¥¼ ë‹¨ìˆœíˆ T/Fë¡œë§Œ ë‘ê³  switchí•˜ê²Œ ë§Œë“¤ì—ˆëŠ”ë°,

```python
# ê° ë¦¬í”„ì˜ ë ˆë²¨
# default(0)ì€ No
# í™€ìˆ˜ ë ˆë²¨ì˜ ë¦¬í”„ê°€ ë‚˜ì˜¤ë©´ ê²°ê³¼ê°€ ë’¤ì§‘í˜

N = int(input())
trees = [[] for _ in range(N+1)]
visited = [0]*(N+1)

for i in range(N-1):
    a,b = map(int,input().split())
    trees[a].append(b)
    trees[b].append(a)
    
result = ['No','Yes']
flag = 0

stack = [0]*N
idx = 0
for i in trees[1]:
    stack[idx] =(i,True)
    idx += 1
visited[1] = 1

while idx:
    idx -= 1
    node, level = stack[idx]
    is_leaf = idx

    if visited[node]:
        continue
    visited[node] = 1

    for i in trees[node]:
        if not visited[i]:
            stack[idx] = (i,not level)
            idx += 1
    
    if not idx-is_leaf and level:
        flag = not flag

print(result[flag])
```

`1868 ms` `238460 KB` `PyPy3`



- ê²°ê³¼ì€ ë§í–ˆë‹¤ğŸ’€
- ì™œì¸ì§€ ì—„ì²­ë‚˜ê²Œ ëŠë¦¬ê³  ë‹¹ì—°íˆ ë©”ëª¨ë¦¬ëŠ” ë” ë§ì´ ì¡ì•„ë¨¹ëŠ” ì½”ë“œê°€ ë˜ì—ˆë‹¤.
